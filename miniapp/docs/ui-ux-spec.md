# ELFCHERRY — UI/UX Spec (чеклист) для Telegram Mini App (1:1 по interface.pdf)

Источник правды по UI/UX: `interface.pdf` (в корне репозитория). Цель: визуально и по поведению повторить макет 1:1, сохраняя текущую серверную бизнес‑логику (корзина/резервы/заказ/Sheets).

## 0) Базовые правила (не обсуждается)
- [ ] Нельзя ломать бизнес‑логику API (корзина серверная, склад/резервы на сервере).
- [ ] Нельзя делать локальную корзину и локальные пересчёты склада.
- [ ] Нельзя убирать резервы ради упрощения.
- [ ] UI строго как в `interface.pdf`.

## 1) Брендинг и ассеты
- [ ] Везде заменить упоминания **ELF DUCK → ELFCHERRY** (title, header, тексты, футер).
- [ ] Структура ассетов (Vite `public`):

```
/public/assets/elfcherry/
  /banners/
    banner-1.jpg
    banner-2.jpg
    banner-3.jpg
  /tiles/
    pods.jpg
    liquids.jpg
    disposables.jpg
    cartridges.jpg
  /ui/
    duck-avatar.png
```

- [ ] Home карусель берёт баннеры из `/assets/elfcherry/banners/*`.
- [ ] Home плитки категорий (4 квадрата) берут обложки из `/assets/elfcherry/tiles/*`.
- [ ] Запрещено хранить картинки в base64.

## 2) UI tokens (CSS vars)
- [ ] Ввести токены: blur, glass bg, radius, shadow, spacing, safe‑area.
- [ ] Пример (можно расширять):
  - [ ] `--glass-bg: rgba(20,20,24,0.55)`
  - [ ] `--glass-border: rgba(255,255,255,0.10)`
  - [ ] `--glass-blur: 22px`
  - [ ] `--radius-xl: 26px`
  - [ ] `--shadow-glass: 0 12px 40px rgba(0,0,0,0.45)`
  - [ ] `--safe-top`, `--safe-bottom` (через env(safe-area-inset-*))

## 3) Глобальный layout (как в interface.pdf)
- [ ] Общий фон: тёмный, переливающийся, с эффектом «живого» градиента.
- [ ] Все контейнеры: glass‑стиль (сильный blur + тонкая белая обводка/подсветка + большие радиусы).
- [ ] Контент скроллится под фиксированным TopBar (внутренний `padding-top`).
- [ ] Safe-area для iOS снизу/сверху.

### 3.1 TopBar (фиксированный)
- [ ] Слева: иконка бургер‑меню (белая) + маленький круглый аватар утки.
- [ ] Центр: зона логотипа (в макете «ED»). Для ELFCHERRY сохранить **тот же масштаб и положение**; текст/лого заменить на ELFCHERRY (например, «EC» или «ELFCHERRY» — как укажет дизайн‑ассет), без изменения сетки.
- [ ] Рядом/на логотипе: значок корзины с красным бейджем количества (в макете красный кружок с “1”).
- [ ] Справа: pill с монетой + текст `x4` + маленький `+`‑бейдж.
- [ ] Справа край: круглый аватар с подписью `LIVE`.

### 3.2 Footer (как в макете)
- [ ] Внизу/в футере экранов: слева `ELFCHERRY`, справа `Поддержка 24/7`.

### 3.3 Глобальные состояния
- [ ] Loading: skeleton‑карточки/скелетон‑плитки.
- [ ] Empty: пустые состояния для каталога/корзины/истории.
- [ ] Error: toast/alert (в Telegram через WebApp, в dev — fallback).

## 4) Навигация и роуты (обязательный список)
- [ ] `/age` — 18+ подтверждение
- [ ] `/home` — главная
- [ ] `/catalog` — все товары
- [ ] `/categories` — категории (экран или модал)
- [ ] `/product/:id` — карточка товара
- [ ] `/cart` — корзина
- [ ] `/checkout` — оформление заказа
- [ ] `/orders` — история заказов
- [ ] `/favorites` — избранное (MVP может быть пустым)
- [ ] `/referral` — рефералка
- [ ] `/support` — поддержка (кнопка «открыть чат»)

## 5) UI компоненты (обязательные)
- [ ] `GlassCard` / `GlassPanel`: тёмный полупрозрачный фон + blur + тонкий белый stroke + inner glow.
- [ ] `TopBar`: фиксированный, как в макете.
- [ ] `DrawerMenu`: стеклянная панель слева.
- [ ] `Carousel` + `CarouselDots` (три точки, активная — заполнена).
- [ ] `TileCard`: плитка категории 2×2 с постером и заголовком по центру.
- [ ] `ProductCard`: постерная карточка товара (2 в ряд), price pill, бейджи (NEW DROP/HIT/SALE), быстрые иконки.
- [ ] `Pill` (цена): белая pill с тенью + иконка монеты.
- [ ] `BadgeNewDrop`/`BadgeSale`/`BadgeHit`: красные бейджи, округлённые.
- [ ] `IconButton`: стеклянная кнопка‑иконка (бургер/корзина/избранное/инфо).
- [ ] `QuantityStepper`: `- qty +` (кнопки ярко‑оранжевые круглые).
- [ ] `Toast`: короткое «добавлено».

## 6) Экраны — 1:1 по interface.pdf

### 6.1 AgeVerify (`/age`)
- [ ] Текст «Мне есть 18 лет».
- [ ] Кнопка «Подтвердить».
- [ ] После успеха: переход в `/home`.

### 6.2 Home (`/home`) — порядок блоков сверху вниз
- [ ] TopBar.
- [ ] Блок‑разделитель: тонкая линия + подпись по центру (в макете «Полезная информация» / «Добавление товара в корзину» для отдельных секций).
- [ ] Карусель баннеров:
  - [ ] Баннер — большой glass‑кадровый контейнер с постер‑картинкой.
  - [ ] Под баннером — точки пагинации `● ○ ○`.
- [ ] Раздел «Наш каталог»:
  - [ ] Две большие glass‑кнопки: `Категории` и `Все товары`.
  - [ ] Сетка плиток 2×2 (квадраты), постер‑фон, заголовок по центру (ЖИДКОСТИ/ОДНОРАЗКИ/ПОДЫ/КАРТРИДЖИ).
  - [ ] На «ЖИДКОСТИ» есть красный бейдж `NEW DROP`.
- [ ] Ниже — сетка карточек товаров 2×N:
  - [ ] Заголовок товара в верхней зоне.
  - [ ] Цена в белой pill с монетой.
  - [ ] Бейджи (NEW DROP/HIT/SALE) красные.
  - [ ] В углу — иконка корзины (быстрое добавление), иконка избранного (звезда).
  - [ ] Справа отдельными карточками могут быть «инфо‑плитки» (фиолетовые glass) с текстом и ценой.

### 6.3 Боковое меню (бургер)
- [ ] Выезжает слева, стеклянная панель.
- [ ] Секции сверху вниз (как в макете):
  - [ ] «Мой баланс» + число + кнопка «использовать»
  - [ ] «Корзина» + кнопка «открыть»
  - [ ] «Избранное» + кнопка «открыть»
  - [ ] «История покупок» + кнопка «просмотреть»
  - [ ] «Реферальная программа» + переход
  - [ ] «Поддержка» + кнопка «связаться» (открыть чат менеджера)

### 6.4 Catalog (`/catalog`) — «магазинный» вид
- [ ] Search.
- [ ] Фильтры: category, brand, price range, скидки/новинки.
- [ ] Grid 2×.
- [ ] Карточки как на Home (постер + price pill + быстрый cart).

### 6.5 Product (`/product/:id`) — карточка товара
- [ ] Большая постер‑картинка в стеклянной рамке.
- [ ] Заголовок, цена (pill), описание.
- [ ] Профиль вкуса (sweet/sour/fruit 1–5) — визуальные бары/индикаторы.
- [ ] Похожие товары (горизонтальная или сетка).
- [ ] Social proof (маркетинг): рейтинг 4.3–4.8, кол‑во отзывов, 2–3 коротких отзыва, «заказов за неделю».
- [ ] CTA «В корзину».

### 6.6 Add‑to‑cart modal (как в макете)
- [ ] При нажатии «в корзину» показывать glass‑модал:
  - [ ] товар, цена
  - [ ] варианты/вкусы (если есть)
  - [ ] подтверждение
- [ ] После успеха: короткий toast «добавлено».

### 6.7 Cart (`/cart`) — как в interface.pdf
- [ ] Заголовок «Корзина».
- [ ] Список карточек:
  - [ ] Красный бейдж `SALE`.
  - [ ] Название (uppercase), цена pill.
  - [ ] Кол‑во: `− qty +` (кнопки ярко‑оранжевые кружки).
  - [ ] Иконка удаления (trash) справа.
  - [ ] Строка вкуса/подзаголовок.
- [ ] Раздел «Оформление заказа» прямо на экране корзины:
  - [ ] Тоггл `Доставка` / `Самовывоз` (две большие стеклянные кнопки).
  - [ ] Поле промокода (glass input).
  - [ ] Панель самовывоза: заголовок «САМОВЫВОЗ» + dropdown точек.

### 6.8 Checkout (`/checkout`) — как в interface.pdf
- [ ] Выбор адреса/точки (лист/дропдаун), для Мюнхена — реальные точки из конфига/Sheets.
- [ ] Промокод.
- [ ] Итоги (итого/к оплате).
- [ ] Слот/время (если нужно) или комментарий.
- [ ] Кнопка «Оформление заказа»:
  - [ ] create → `buffer` (резерв)
  - [ ] confirm → `pending`
  - [ ] открыть чат менеджера с автотекстом заказа

### 6.9 Orders (`/orders`) — история заказов
- [ ] Список 30–50 последних:
  - [ ] `order_id`, `status`, дата, сумма
  - [ ] Статус визуально как бейдж.
- [ ] Нажатие на заказ → детали (MVP: модал).

### 6.10 Favorites (`/favorites`)
- [ ] Список избранного (MVP может показывать пустое состояние).

### 6.11 Referral (`/referral`)
- [ ] Большой стеклянный блок «ПРИГЛАСИТЕ 2 РЕФЕРАЛА».
- [ ] Кнопка «ПРИГЛАСИТЬ ДРУГА» → копировать ссылку/поделиться через Telegram.

### 6.12 Support (`/support`)
- [ ] Кнопка «Открыть чат» → открыть Telegram чат менеджера.

## 7) Данные/интеграции (только UI требования)
- [ ] Товары/категории/бренды — из API (который читает Google Sheets).
- [ ] Корзина — только серверная (tgId+city).
- [ ] Заказы — create/confirm/payment через API, затем открытие чата.

